import{_ as h}from"./DW4uZncT.js";import{L as g,r as n,o as v,M as f,v as y,x as e,B as d,N as c,O as b,P as i,Q as w,R as x,z as M,A as S,t as k,S as A}from"./wYJZymiY.js";const B=()=>g("color-mode").value,E={class:"flex justify-center"},I={class:"mt-8"},U=e("label",{for:"image-title"},"USERNAME",-1),V=e("br",null,null,-1),C={class:"mt-3"},N=e("label",{for:"image-uploader"},"UPLOAD IMAGE",-1),D=e("br",null,null,-1),L=e("div",{class:"mt-3"},[e("button",{class:"align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 rounded-lg bg-gray-900 text-white shadow-md shadow-gray-900/10 hover:shadow-lg hover:shadow-gray-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none",type:"submit"},"SUBMIT")],-1),R=["src"],T={class:"mt-3"},$=["href"],F={class:"absolute top-0 right-0"},O=e("option",{value:"system"},"System",-1),z=e("option",{value:"light"},"Light",-1),G=e("option",{value:"dark"},"Dark",-1),P=e("option",{value:"sepia"},"Sepia",-1),j=e("option",{value:"tilte"},"Tilte",-1),q=[O,z,G,P,j],J={__name:"index",setup(Q){B();const r=n(null),s=n(""),u=n(null),l=n(null);v(()=>{const t=f();s.value=t.query.username});function m(t){r.value=t.target.files[0]}async function p(){try{const t=new FormData;t.append("image",r.value),t.append("username",s.value);const o=await $fetch("/api/images",{method:"post",body:t,headers:{Authorization:`Bearer ${u.value}`}});l.value=o.data.link}catch(t){console.error(t.message)}}return(t,o)=>{const _=h;return k(),y("div",null,[e("form",{onSubmit:x(p,["prevent"]),method:"post"},[e("div",E,[e("div",I,[U,d(),V,c(e("input",{autofocus:"",onFocus:o[0]||(o[0]=a=>console.log(a.target.select())),id:"image=title",name:"image=title","onUpdate:modelValue":o[1]||(o[1]=a=>w(s)?s.value=a:null),type:"text"},null,544),[[b,i(s)]]),e("div",C,[N,d(),D,e("input",{accept:"image/*",type:"file",name:"image-uploader",id:"image-uploader",onChange:m},null,32)]),L,e("img",{src:i(l),alt:""},null,8,R),e("div",T,[e("a",{href:i(l),target:"_blank"},"VIEW IMAGE",8,$)])])])],32),e("div",F,[M(_,null,{default:S(()=>[c(e("select",{"onUpdate:modelValue":o[2]||(o[2]=a=>t.$colorMode.preference=a)},q,512),[[A,t.$colorMode.preference]])]),_:1})])])}}};export{J as default};
