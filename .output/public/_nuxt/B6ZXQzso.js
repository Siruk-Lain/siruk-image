import{_ as i}from"./DW4uZncT.js";import{r,o as l,v as _,z as d,A as u,x as t,y as p,P as h,t as m,N as f,S as g}from"./wYJZymiY.js";const v=t("option",{value:"system"},"System",-1),k=t("option",{value:"light"},"Light",-1),y=t("option",{value:"dark"},"Dark",-1),x=t("option",{value:"sepia"},"Sepia",-1),w=t("option",{value:"tilte"},"Tilte",-1),b=[v,k,y,x,w],S=t("button",{class:"align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 rounded-lg bg-gray-900 text-white shadow-md shadow-gray-900/10 hover:shadow-lg hover:shadow-gray-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none",type:"submit"},"Sign In to Imgur",-1),N=[S],E={class:"flex justify-center text-3xl"},M="https://api.imgur.com/oauth2/authorize?client_id=b5397916875dde8&response_type=token&state=NEW_REGISTRATION",I={__name:"index",setup(T){const o=r({access_token:"",expires_in:"",token_type:"",refresh_token:"",account_username:"",account_id:""});l(()=>{a(window.location.href)});function a(s){const e=new URLSearchParams(s.split("#")[1]),n=e.get("access_token");return e.get("refresh_token"),o.value.access_token=e.get("access_token"),o.value.expires_in=e.get("expires_in"),o.value.token_type=e.get("token_type"),o.value.refresh_token=e.get("refresh_token"),o.value.account_username=e.get("account_username"),o.value.account_id=e.get("account_id"),n&&($fetch("/api/tokens",{method:"post",body:o.value}),alert("user has been registered!")),n}return(s,e)=>{const n=i;return m(),_("div",null,[d(n,null,{default:u(()=>[f(t("select",{class:"bg-zinc-800 text-white","onUpdate:modelValue":e[0]||(e[0]=c=>s.$colorMode.preference=c)},b,512),[[g,s.$colorMode.preference]])]),_:1}),t("a",{href:M},N),t("div",E," USERNAME: "+p(h(o).account_username),1)])}}};export{I as default};
